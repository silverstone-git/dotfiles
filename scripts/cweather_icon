#!/bin/bash
#
#
#temporarily commented out the 'if' because it really is a grind weather
#if [[ $(~/scripts/connected) == "0" ]]; then
	echo "Grind Weather " > ~/.tempfile.txt
	echo "î­„"
	exit
#fi

cd ~/cweather_v1_5
temp_descstr="$(./temp_desctr 28.6 77.1)"
#temp_descstr="$(./temp_desctr)"
descstr=$(echo $temp_descstr | cut -d " " -f 2-)
temp=$(echo $temp_descstr | cut -d " " -f 1)

if [ "$descstr" == "mist" ]; then
	echo "îŒƒ"
elif [ "$descstr" == "thunderstorm" ]; then
	echo "îŒ"
elif [ "$descstr" == "rain" ]; then
	echo "ïª–"
elif [ "$descstr" == "clear sky" ]; then
	echo "îŒ"
elif [ "$descstr" == "snow" ]; then
	echo "îŒŠ"
elif [ "$descstr" == "smoke" ]; then
	echo "îœ"
elif [ "$descstr" == "fog" ]; then
	echo "ïª"
elif [ "$descstr" == "light rain" ]; then
	echo "îŠ"
elif [ "$descstr" == "moderate rain" ]; then
	echo "îŒ‡"
elif [ "$descstr" == "overcast clouds" ]; then
	echo "ï™"
elif [ "$descstr" == "scattered clouds" ]; then
	echo "îŒ’"
elif [ "$descstr" == "drizzle" ]; then
	echo "î±"
elif [ "$descstr" == "haze" ]; then
	echo "î®"
elif [ "$descstr" == "broken clouds" ]; then
	echo "ïª"
elif [ "$descstr" == "few clouds" ]; then
	echo "îŒ’"
elif [ "$descstr" == "tornado" ]; then
	echo "î‘"
else
	echo "îŒ‚"
fi

echo "$temp ${descstr^}" > ~/.tempfile.txt


#        // checking which weather icon to use
#        char weather_icon[20];
#        if(strcmp(descstr, "mist") == 0)
#                strncpy(weather_icon, "ğŸŒ¬ï¸", sizeof(weather_icon));
#        else if(strcmp(descstr, "thunderstorm") == 0)
#                strncpy(weather_icon, "ğŸŒ©ï¸", sizeof(weather_icon));
#        else if(strcmp(descstr, "rain") == 0)
#                strncpy(weather_icon, "â˜”", sizeof(weather_icon));
#        else if(strcmp(descstr, "clear sky") == 0)
#                strncpy(weather_icon, "â˜€ï¸", sizeof(weather_icon));
#        else if(strcmp(descstr, "snow") == 0)
#                strncpy(weather_icon, "â„ï¸", sizeof(weather_icon));
#        else if(strcmp(descstr, "smoke") == 0)
#                strncpy(weather_icon, "ğŸš¬", sizeof(weather_icon));
#        else if(strcmp(descstr, "fog") == 0)
#                strncpy(weather_icon, "ğŸŒ", sizeof(weather_icon));
#        else if(strcmp(descstr, "light rain") == 0)
#                strncpy(weather_icon, "ğŸŒˆ", sizeof(weather_icon));
#        else if(strcmp(descstr, "moderate rain") == 0)
#                strncpy(weather_icon, "ğŸŒ§ï¸", sizeof(weather_icon));
#        else if(strcmp(descstr, "overcast clouds") == 0)
#                strncpy(weather_icon, "ğŸŒ«ï¸", sizeof(weather_icon));
#        else if(strcmp(descstr, "scattered clouds") == 0)
#                strncpy(weather_icon, "ğŸŒ«ï¸", sizeof(weather_icon));
#        else if(strcmp(descstr, "drizzle") == 0)
#                strncpy(weather_icon, "ğŸ’¦", sizeof(weather_icon));
#        else if(strcmp(descstr, "haze") == 0)
#                strncpy(weather_icon, "ğŸŒ«ï¸", sizeof(weather_icon));
#        else if(strcmp(descstr, "broken clouds") == 0)
#                strncpy(weather_icon, "â˜", sizeof(weather_icon));
#        else if(strcmp(descstr, "few clouds") == 0)
#                strncpy(weather_icon, "â˜", sizeof(weather_icon));
#        else if(strcmp(descstr, "tornado") == 0)
#                strncpy(weather_icon, "ğŸŒª", sizeof(weather_icon));
#        else
#                strncpy(weather_icon, "ğŸŒ¥ï¸", sizeof(weather_icon));

